<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <pre>
    给定一个二叉树，判断其是否是一个有效的二叉搜索树。

    假设一个二叉搜索树具有如下特征：

    节点的左子树只包含小于当前节点的数。
    节点的右子树只包含大于当前节点的数。
    所有左子树和右子树自身必须也是二叉搜索树。
    示例 1:

    输入:
        2
      / \
      1   3
    输出: true
    示例 2:

    输入:
        5
      / \
      1   4
        / \
        3   6
    输出: false
    解释: 输入为: [5,1,4,null,null,3,6]。
        根节点的值为 5 ，但是其右子节点值为 4 。
  </pre>
  <script>
    // 1 递归
    // 
    function isValidBST(root) {
      return helper(root, null, null)
    }
    // 思想：当前节点的值大于左子树的所有节点的值，小于右子树的所有节点的值
    // 如果当前节点为null，则当前节点满足二叉搜索树条件，返回true
    // 用lower表示所有遍历过的节点中的最小值
    // 用upper表示所有遍历过的节点中的最大值
    // 如果当前节点的值大于等于最小值lower，或者小于等于最大值upper，则不满足条件，返回false
    // 否则继续遍历左子树和右子树，同时分别更新lower和upper的值
    function helper(node, lower, upper) {
      // 空树也是二叉搜索树
      if (node === null) return true
      let val = node.val
      if ((lower !== null && val >= lower) || (upper !== null && val <= upper)) {
        return false
      }
      return helper(node.left, lower, val) && helper(node.right, val, upper)
    }

    console.log(isValidBST([2, 1, 3]))
  </script>
</body>
</html>

